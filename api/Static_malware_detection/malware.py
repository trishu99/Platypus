import subprocess

# Ask the user for input

class Malware():
	def malwaredetection(self):
		# Set up the echo command and direct the output to a pipe
		print('came here')
		p1 = subprocess.Popen(['python3', 'Static_malware_detection/run_system.py'], stdout=subprocess.PIPE)


		# Run the command
		output = str(p1.communicate())
		mylist = output.split("'")
		

		output = mylist[1]
		print(output)
		print('-----------------------------------------------')
		output = output.split('\n') 
		print(output)
		output = output[0].split('\\n') 

		# a variable to store the output 
		res = [] 

		
			# iterate through the output 
			# line by line 
		for line in output: 
			if line == 'python preprocess.py' or line == 'java -cp ".:./weka.jar" weka.core.converters.CSVLoader final2.csv > final.arff' or line == 'javac -cp ".:./weka.jar" evaluate.java' or line == 'java -cp ".:./weka.jar" evaluate':
				continue;
			res.append(line) 

		res1 = []
		print(len(res) // 2)
		# print the output 
		for i,j in zip(range(0, len(res)//2), range(len(res)//2, len(res))): 
			res1.append(res[i] + ' => ' + res[j]) 
			
		for i in range(0, len(res1)):
			print(res1[i])		

		return res1


#m = Malware()
#print(m.malwaredetection())
# print(help(pyudev.Monitor.filter_by))	
